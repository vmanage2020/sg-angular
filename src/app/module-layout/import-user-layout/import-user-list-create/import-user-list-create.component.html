<app-ui-preloader [display]="loading" *ngIf="displayLoader"></app-ui-preloader>
<div class="row">
        <div class="col-lg-6">
            <div class="card-box">
                <h5 class="text-uppercase bg-light p-2 mt-0 mb-3">Import User Details</h5>
                
                <form class="needs-validation" name="createcannedresponseForm" [formGroup]="createcannedresponseForm"
                (ngSubmit)="onSubmit(createcannedresponseForm)" novalidate>

                <div class="form-group mb-3">
                    <label for="sports_id"> Sport<span class="text-danger">*</span></label>

                    <ng-select [items]="getSportsArray" bindLabel="name" bindValue="sport_id"
                        id="sports_id" name="sports_id" formControlName="sports_id" 
                        placeholder="Select Sport" [ngClass]="{ 'is-invalid': submitted && f.sports_id.errors }" 
                        (change)="selectedSport($event,createcannedresponseForm)">
                    </ng-select>
                    <!--
                    <select class="form-control select2" id="sports_id" name="sports_id" formControlName="sports_id" [ngClass]="{ 'is-invalid': submitted && f.sports_id.errors }" (change)="selectedSport($event,createcannedresponseForm)">
                        <option value="" disabled selected >Select Sport</option>
                        <option *ngFor="let SportData of getSportsArray let i = index;" value="{{SportData.sport_id}}">{{SportData.name}}</option>
                    </select>
                    -->
                    <div *ngIf="submitted && f.sports_id.errors" class="invalid-feedback">
                        <div *ngIf="f.sports_id.errors.required">Sport Name is required.</div>
                    </div>
                </div>

                
                <div class="form-group mb-3">
                    <label for="season_id"> Season<span class="text-danger">*</span></label>
                    <ng-select [items]="getSeasonsArray" bindLabel="season" bindValue="season_id"
                        id="season_id" name="season_id" formControlName="season_id" 
                        (change)="selectedSeason($event,createcannedresponseForm)"
                        placeholder="Select Season" [ngClass]="{ 'is-invalid': submitted && f.season_id.errors }" >
                    </ng-select>
                    
                    <!--
                    <select class="form-control select2" id="season_id" name="season_id" formControlName="season_id" [ngClass]="{ 'is-invalid': submitted && f.season_id.errors }" (change)="selectedSeason($event,createcannedresponseForm)">
                        <option value="" disabled selected >Select Session</option>
                        <option *ngFor="let SeasonData of getSeasonsArray let i = index;" value="{{SeasonData.season_id}}">{{SeasonData.season}}</option>
                    </select>
                    -->
                    <div *ngIf="submitted && f.season_id.errors" class="invalid-feedback">
                        <div *ngIf="f.season_id.errors.required">Sport Name is required.</div>
                    </div>
                </div>

                <div class="form-group mb-3">
                    <label for="imported_file_template"> Template Type<span class="text-danger">*</span></label>
                    
                    <ng-select [items]="getTemplateArray" bindLabel="name" bindValue="name"
                        id="imported_file_template" name="imported_file_template" formControlName="imported_file_template" 
                        placeholder="Select Template" [ngClass]="{ 'is-invalid': submitted && f.imported_file_template.errors }" >
                    </ng-select>
                    <!--
                    <select class="form-control select2" id="imported_file_template" name="imported_file_template" formControlName="imported_file_template" [ngClass]="{ 'is-invalid': submitted && f.imported_file_template.errors }">
                        <option value="" disabled selected >Select Session</option>
                        <option *ngFor="let TemplateData of getTemplateArray let i = index;" value="{{TemplateData.name}}">{{TemplateData.name}}</option>
                    </select>
                    -->
                    <div *ngIf="submitted && f.imported_file_template.errors" class="invalid-feedback">
                        <div *ngIf="f.imported_file_template.errors.required">Sport Name is required.</div>
                    </div>
                </div>

                
 
                
                <div class="form-group mb-3">
                    <label for="imported_file_name">File<span class="text-danger">*</span></label>
                    
                    <input type="text" formControlName="imported_file_name" class="form-control edit-icon input"
                    (click)="fileUploader.click()" name="imported_file_name" placeholder="Click to upload file" id="imported_file_name"
                    readonly />
                  <input type="file" class="form-control" #fileUploader (change)="showPreview($event)"
                    style="display: none">

                    <div *ngIf="submitted && f.imported_file_name.errors" class="invalid-feedback">
                        <div *ngIf="f.imported_file_name.errors.required">File is required.</div>
                    </div>                
                </div>
                 
  
                <div class="col-12">
                    <div class="text-center mb-3">
                        <button (click)="listUser()" type="button" class="btn w-sm btn-light waves-effect" style="float: left;">Cancel</button>
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <button type="submit" class="btn w-sm btn-success ml-1" style="float: right;">Save</button>
                    </div>
                </div> <!-- end col -->
    
            </form>    
            </div> <!-- end card-box -->
        </div> <!-- end col -->
 
    </div>
    <!-- end row -->